import{u as a,a as s,Q as e,k as l,c as r,b as o,w as t,d as i,M as u,h as n,R as m,g as d}from"./index-C3ajj0iU.js";import{V as p}from"./loader-_1sodkhb.js";import{V as f,a as V,b as c}from"./VCard-DTBu3HW2.js";import{V as j}from"./VForm-DlvED1TM.js";import{a as v,V as g}from"./VBtn-JKfmtoJ-.js";import{V as h,a as w}from"./VToolbar-DIHQZaEw.js";import{V as x}from"./VTextField-CT2tUTqH.js";import{V as _}from"./VContainer-Dth-cuMG.js";import"./VAvatar-CsOZoIOv.js";import"./elevation-C2i0gTrO.js";import"./VIcon-DO7afe9J.js";import"./autofocus-CGxummZr.js";import"./index-D7kFa585.js";/* empty css              */const b={__name:"login",setup(b){const y=a(),k=s(),q=e({username:"",password:""}),z=l(!1),B={username:[a=>!!a||"账号不能为空"],password:[a=>!!a||"密码不能为空"]},C=async a=>{if(!(await a).valid)return!1;z.value=!0;try{await y.login(q),k.replace({name:"home"}),y.success("登录成功...")}finally{z.value=!1}};return(a,s)=>(o(),r(_,{class:"fill-height"},{default:t(()=>[i(p,{class:"fill-height mx-auto"},{default:t(()=>[s[3]||(s[3]=u("div",{class:"py-16"},null,-1)),i(f,{class:"mx-auto pb-2","max-width":"400",width:"100%",loading:n(z)},{default:t(()=>[i(j,{"fast-fail":"",onSubmit:m(C,["prevent"])},{default:t(()=>[i(v,{height:"200",src:"/player/assets/login-Bez7HMPq.jpg",cover:""},{default:t(()=>[i(h,{color:"transparent"},{default:t(()=>[i(w,{class:"text-h6",text:"请登录"})]),_:1})]),_:1}),i(V,null,{default:t(()=>[i(x,{modelValue:n(q).username,"onUpdate:modelValue":s[0]||(s[0]=a=>n(q).username=a),label:"用户名",color:"pink",variant:"underlined",rules:B.username},null,8,["modelValue","rules"]),i(x,{modelValue:n(q).password,"onUpdate:modelValue":s[1]||(s[1]=a=>n(q).password=a),label:"密码",color:"purple",variant:"underlined",rules:B.password,type:"password"},null,8,["modelValue","rules"])]),_:1}),i(c,null,{default:t(()=>[i(g,{variant:"text",block:"",type:"submit"},{default:t(()=>[...s[2]||(s[2]=[d(" 登录 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1}))}};export{b as default};
