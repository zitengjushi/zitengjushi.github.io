import{u as a,O as s,t as e,c as l,w as r,a as t,b as o,d as i,L as n,f as u,P as m,e as d}from"./index-CAPtrJAk.js";import{V as p}from"./VContainer-C_zyFmvq.js";import{V as f,a as V,b as c}from"./VCard-DU3kOVDK.js";import{V as j}from"./VForm-BOjzfGZY.js";import{a as v,V as w}from"./VBtn-azOSVwQy.js";import{V as _,a as g}from"./VToolbar-oLIRM5qc.js";import{V as h}from"./VTextField-D66FAfNS.js";import{V as x}from"./loader-DsiMNKdA.js";/* empty css              */import"./VAvatar-ME9kvVmU.js";import"./elevation-Dr-zzJaf.js";import"./VIcon-BNrbGrm9.js";import"./VInput-Bq4Ibef0.js";import"./index-CjuU1OvA.js";const b={__name:"login",setup(b){const y=a(),k=t(),z=s({username:"",password:""}),B=e(!1),C={username:[a=>!!a||"账号不能为空"],password:[a=>!!a||"密码不能为空"]},F=async a=>{if(!(await a).valid)return!1;B.value=!0;try{await y.login(z),k.replace({name:"home"}),y.success("登录成功...")}finally{B.value=!1}};return(a,s)=>(o(),l(p,{class:"fill-height"},{default:r((()=>[i(x,{class:"fill-height mx-auto"},{default:r((()=>[s[3]||(s[3]=n("div",{class:"py-16"},null,-1)),i(f,{class:"mx-auto pb-2","max-width":"400",width:"100%",loading:u(B)},{default:r((()=>[i(j,{"fast-fail":"",onSubmit:m(F,["prevent"])},{default:r((()=>[i(v,{height:"200",src:"/player/assets/login-Bez7HMPq.jpg",cover:""},{default:r((()=>[i(_,{color:"transparent"},{default:r((()=>[i(g,{class:"text-h6",text:"请登录"})])),_:1})])),_:1}),i(V,null,{default:r((()=>[i(h,{modelValue:u(z).username,"onUpdate:modelValue":s[0]||(s[0]=a=>u(z).username=a),label:"用户名",color:"pink",variant:"underlined",rules:C.username},null,8,["modelValue","rules"]),i(h,{modelValue:u(z).password,"onUpdate:modelValue":s[1]||(s[1]=a=>u(z).password=a),label:"密码",color:"purple",variant:"underlined",rules:C.password,type:"password"},null,8,["modelValue","rules"])])),_:1}),i(c,null,{default:r((()=>[i(w,{variant:"text",block:"",type:"submit"},{default:r((()=>s[2]||(s[2]=[d(" 登录 ")]))),_:1})])),_:1})])),_:1})])),_:1},8,["loading"])])),_:1})])),_:1}))}};export{b as default};
