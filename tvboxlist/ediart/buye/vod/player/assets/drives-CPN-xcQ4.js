import{u as e,_ as a,k as l,v as t,o,f as r,b as d,M as n,d as s,w as c,h as u,af as i,aC as m,e as p,c as y,F as v,R as V,g as f}from"./index-C3ajj0iU.js";import{b as k,V as _,a as b}from"./VBtn-JKfmtoJ-.js";import{V as h,a as x}from"./VRow-Dy0oHVvz.js";import{V as w}from"./VTextField-CT2tUTqH.js";import{V as C,a as j,b as g}from"./VCard-DTBu3HW2.js";import{V as U}from"./VContainer-Dth-cuMG.js";import{V as O}from"./VDivider-BOPuQHw-.js";import{V as q}from"./VDialog-BiBfv1Qk.js";import{V as T}from"./loader-_1sodkhb.js";import"./elevation-C2i0gTrO.js";import"./VIcon-DO7afe9J.js";/* empty css              */import"./autofocus-CGxummZr.js";import"./index-D7kFa585.js";import"./VAvatar-CsOZoIOv.js";const K={class:"py-4 position-relative"},P={class:"text-center py-2"},$={class:"text-center py-2"},D={class:"text-center py-2"},z={class:"text-center py-2"},F={class:"text-center py-2"},R={class:"text-center py-2"},A={class:"text-center py-2"},B={class:"text-center py-2"},G={class:"text-center py-2"},I={class:"text-center py-2"},M={class:"text-center py-2"},S={class:"text-center py-2"},E={class:"py-4 text-center"},H={__name:"SettingDrive",setup(T){const H=e(),J=a("axios"),L=l({show:!1}),N=async(e,a)=>{W.value=!0,Object.assign(L.value,{d:e,t:a,show:!0});try{const l=await J.get(`/drive/${e}/${a}/loginqrcode`);Object.assign(L.value,l)}finally{W.value=!1}},Q=async()=>{const{d:e,t:a,query_token:l}=L.value;W.value=!0;try{const t=await J.post(`/drive/${e}/${a}/scancheck`,{checkToken:l}),o=X.value.find(e=>e.key===t.key);o?Object.assign(o,t):X.value.push(t),L.value.show=!1}finally{W.value=!1}},W=l(!1),X=l([]),Y=t(()=>X.value.find(e=>"quark"===e.key)),Z=t(()=>X.value.find(e=>"quarktv"===e.key)||{}),ee=t(()=>X.value.find(e=>"uc"===e.key)),ae=t(()=>X.value.find(e=>"uctv"===e.key)||{}),le=t(()=>X.value.find(e=>"ali"===e.key)),te=t(()=>X.value.find(e=>"a139"===e.key)),oe=t(()=>{const e=X.value.find(e=>"a115"===e.key);return e&&!e.account&&Object.assign(e,{account:{}}),e}),re=t(()=>{const e=X.value.find(e=>"pikpak"===e.key);return e&&!e.account&&Object.assign(e,{account:{}}),e}),de=t(()=>{const e=X.value.find(e=>"xunlei"===e.key);return e&&!e.account&&Object.assign(e,{account:{}}),e}),ne=t(()=>{const e=X.value.find(e=>"a189"===e.key);return e&&!e.account&&Object.assign(e,{account:{}}),e}),se=t(()=>{const e=X.value.find(e=>"a123"===e.key);return e&&!e.account&&Object.assign(e,{account:{}}),e}),ce=t(()=>X.value.find(e=>"baidu"===e.key)),ue=async e=>{W.value=!0;try{const a=await J.post("/drive",e),l=X.value.find(e=>e.key===a.key);l?Object.assign(l,a):X.value.push(a)}finally{W.value=!1}H.success("更新成功！")},ie=async()=>{W.value=!0;try{X.value=await J.get("/drive")}catch{}finally{W.value=!1}};return o(ie),(e,a)=>(d(),r("div",K,[a[50]||(a[50]=n("h1",{class:"text-h6 font-weight-bold text-center py-2"},"网盘账号",-1)),a[51]||(a[51]=n("div",{class:"text-center py-2"}," 如不显示网盘配置项，请先在配置文件网盘排序中添加支持的网盘 ",-1)),s(m,{modelValue:u(W),"onUpdate:modelValue":a[0]||(a[0]=e=>i(W)?W.value=e:null),class:"align-center justify-center",persistent:!0,contained:""},{default:c(()=>[s(k,{color:"primary",size:"64",indeterminate:""})]),_:1},8,["modelValue"]),s(x,{dense:""},{default:c(()=>[u(ee)?(d(),r(v,{key:0},[s(h,{cols:"12",md:"6"},{default:c(()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"UC-CK",modelValue:u(ee).account,"onUpdate:modelValue":a[1]||(a[1]=e=>u(ee).account=e),error:u(ee).error??!0},null,8,["modelValue","error"]),n("div",P,[s(_,{onClick:a[2]||(a[2]=V(e=>ue(u(ee)),["stop"]))},{default:c(()=>[...a[32]||(a[32]=[f("更新",-1)])]),_:1})])]),_:1}),s(h,{cols:"12",md:"6"},{default:c(()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"UC-TV",modelValue:u(ae).account,"onUpdate:modelValue":a[3]||(a[3]=e=>u(ae).account=e),error:u(ae).error??!0},null,8,["modelValue","error"]),n("div",$,[s(_,{onClick:a[4]||(a[4]=V(e=>N("uc","tv"),["stop"])),color:"primary"},{default:c(()=>[...a[33]||(a[33]=[f("扫码",-1)])]),_:1})])]),_:1})],64)):p("",!0),u(Y)?(d(),r(v,{key:1},[s(h,{cols:"12",md:"6"},{default:c(()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"夸克-CK",modelValue:u(Y).account,"onUpdate:modelValue":a[5]||(a[5]=e=>u(Y).account=e),error:u(Y).error??!0},null,8,["modelValue","error"]),n("div",D,[s(_,{onClick:a[6]||(a[6]=V(e=>ue(u(Y)),["stop"]))},{default:c(()=>[...a[34]||(a[34]=[f("更新",-1)])]),_:1})])]),_:1}),s(h,{cols:"12",md:"6"},{default:c(()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"夸克-TV",modelValue:u(Z).account,"onUpdate:modelValue":a[7]||(a[7]=e=>u(Z).account=e),error:u(Z).error??!0},null,8,["modelValue","error"]),n("div",z,[s(_,{onClick:a[8]||(a[8]=V(e=>N("quark","tv"),["stop"])),color:"primary"},{default:c(()=>[...a[35]||(a[35]=[f(" 扫码 ",-1)])]),_:1})])]),_:1})],64)):p("",!0),u(se)?(d(),y(h,{key:2,cols:"12",md:"6"},{default:c(()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"123-账号",modelValue:u(se).account.username,"onUpdate:modelValue":a[9]||(a[9]=e=>u(se).account.username=e),error:u(se).error??!0},null,8,["modelValue","error"]),a[37]||(a[37]=n("div",{class:"py-2"},null,-1)),s(w,{variant:"outlined",density:"compact","hide-details":"",label:"123-密码",type:"password",modelValue:u(se).account.password,"onUpdate:modelValue":a[10]||(a[10]=e=>u(se).account.password=e),error:u(se).error??!0},null,8,["modelValue","error"]),n("div",F,[s(_,{onClick:a[11]||(a[11]=V(e=>ue(u(se)),["stop"]))},{default:c(()=>[...a[36]||(a[36]=[f("更新",-1)])]),_:1})])]),_:1})):p("",!0),u(oe)?(d(),y(h,{key:3,cols:"12",md:"6"},{default:c(()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"115-Ck",modelValue:u(oe).account.cookie,"onUpdate:modelValue":a[12]||(a[12]=e=>u(oe).account.cookie=e),error:u(oe).error??!0},null,8,["modelValue","error"]),a[39]||(a[39]=n("div",{class:"py-2"},null,-1)),s(w,{variant:"outlined",density:"compact","hide-details":"",label:"115-安全码",modelValue:u(oe).account.securityCode,"onUpdate:modelValue":a[13]||(a[13]=e=>u(oe).account.securityCode=e),error:u(oe).error??!0},null,8,["modelValue","error"]),n("div",R,[s(_,{onClick:a[14]||(a[14]=V(e=>ue(u(oe)),["stop"]))},{default:c(()=>[...a[38]||(a[38]=[f("更新",-1)])]),_:1})])]),_:1})):p("",!0),u(le)?(d(),y(h,{key:4,cols:"12",md:"6"},{default:c(()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"阿里-32Token",modelValue:u(le).account,"onUpdate:modelValue":a[15]||(a[15]=e=>u(le).account=e),error:u(le).error??!0},null,8,["modelValue","error"]),n("div",A,[s(_,{onClick:a[16]||(a[16]=V(e=>ue(u(le)),["stop"]))},{default:c(()=>[...a[40]||(a[40]=[f("更新",-1)])]),_:1})])]),_:1})):p("",!0),u(re)?(d(),y(h,{key:5,cols:"12",md:"6"},{default:c(()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"PikPak-账号",modelValue:u(re).account.username,"onUpdate:modelValue":a[17]||(a[17]=e=>u(re).account.username=e),error:u(re).error??!0},null,8,["modelValue","error"]),a[42]||(a[42]=n("div",{class:"py-2"},null,-1)),s(w,{variant:"outlined",density:"compact","hide-details":"",label:"PikPak-密码",type:"password",modelValue:u(re).account.password,"onUpdate:modelValue":a[18]||(a[18]=e=>u(re).account.password=e),error:u(re).error??!0},null,8,["modelValue","error"]),n("div",B,[s(_,{onClick:a[19]||(a[19]=V(e=>ue(u(re)),["stop"]))},{default:c(()=>[...a[41]||(a[41]=[f("更新",-1)])]),_:1})])]),_:1})):p("",!0),u(de)?(d(),y(h,{key:6,cols:"12",md:"6"},{default:c(()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"迅雷-账号",modelValue:u(de).account.username,"onUpdate:modelValue":a[20]||(a[20]=e=>u(de).account.username=e),error:u(de).error??!0},null,8,["modelValue","error"]),a[44]||(a[44]=n("div",{class:"py-2"},null,-1)),s(w,{variant:"outlined",density:"compact","hide-details":"",label:"迅雷-密码",type:"password",modelValue:u(de).account.password,"onUpdate:modelValue":a[21]||(a[21]=e=>u(de).account.password=e),error:u(de).error??!0},null,8,["modelValue","error"]),n("div",G,[s(_,{onClick:a[22]||(a[22]=V(e=>ue(u(de)),["stop"]))},{default:c(()=>[...a[43]||(a[43]=[f("更新",-1)])]),_:1})])]),_:1})):p("",!0),u(ne)?(d(),y(h,{key:7,cols:"12",md:"6"},{default:c(()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"天意-账号",modelValue:u(ne).account.username,"onUpdate:modelValue":a[23]||(a[23]=e=>u(ne).account.username=e),error:u(ne).error??!0},null,8,["modelValue","error"]),a[46]||(a[46]=n("div",{class:"py-2"},null,-1)),s(w,{variant:"outlined",density:"compact","hide-details":"",label:"天意-密码",type:"password",modelValue:u(ne).account.password,"onUpdate:modelValue":a[24]||(a[24]=e=>u(ne).account.password=e),error:u(ne).error??!0},null,8,["modelValue","error"]),n("div",I,[s(_,{onClick:a[25]||(a[25]=V(e=>ue(u(ne)),["stop"]))},{default:c(()=>[...a[45]||(a[45]=[f("更新",-1)])]),_:1})])]),_:1})):p("",!0),u(te)?(d(),y(h,{key:8,cols:"12",md:"6"},{default:c(()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"异动-CK",modelValue:u(te).account,"onUpdate:modelValue":a[26]||(a[26]=e=>u(te).account=e),error:u(te).error??!0},null,8,["modelValue","error"]),n("div",M,[s(_,{onClick:a[27]||(a[27]=V(e=>ue(u(te)),["stop"]))},{default:c(()=>[...a[47]||(a[47]=[f("更新",-1)])]),_:1})])]),_:1})):p("",!0),u(ce)?(d(),y(h,{key:9,cols:"12",md:"6"},{default:c(()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"百度-CK",modelValue:u(ce).account,"onUpdate:modelValue":a[28]||(a[28]=e=>u(ce).account=e),error:u(ce).error??!0},null,8,["modelValue","error"]),n("div",S,[s(_,{onClick:a[29]||(a[29]=V(e=>ue(u(ce)),["stop"]))},{default:c(()=>[...a[48]||(a[48]=[f("更新",-1)])]),_:1})])]),_:1})):p("",!0)]),_:1}),n("div",E,[s(_,{color:"error",onClick:V(ie,["stop"])},{default:c(()=>[...a[49]||(a[49]=[f("检测所有网盘状态",-1)])]),_:1})]),s(q,{modelValue:u(L).show,"onUpdate:modelValue":a[31]||(a[31]=e=>u(L).show=e),"max-width":"400px"},{default:c(()=>[s(C,{title:"请扫二维码登录",loading:u(W),disabled:u(W)},{default:c(()=>[s(j,null,{default:c(()=>[s(U,{class:"text-center"},{default:c(()=>[u(L).qr_data?(d(),y(b,{key:0,class:"mx-auto",width:"300","aspect-ratio":1,cover:"",src:"data:image/png;base64,"+u(L).qr_data},null,8,["src"])):p("",!0)]),_:1})]),_:1}),s(O),s(g,null,{default:c(()=>[s(_,{text:"关闭",variant:"plain",onClick:a[30]||(a[30]=e=>u(L).show=!1)}),s(_,{color:"primary",text:"已完成扫码",variant:"tonal",onClick:Q})]),_:1})]),_:1},8,["loading","disabled"])]),_:1},8,["modelValue"])]))}},J={__name:"drives",setup:e=>(e,a)=>{const l=H;return d(),y(T,null,{default:c(()=>[s(l)]),_:1})}};export{J as default};
