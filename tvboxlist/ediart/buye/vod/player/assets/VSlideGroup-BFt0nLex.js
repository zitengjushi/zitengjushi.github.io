function e(e,l){return(null==l?void 0:l[e?"scrollWidth":"scrollHeight"])||0}function l(e,l,t){if(!t)return 0;const{scrollLeft:n,offsetWidth:a,scrollWidth:o}=t;return e?l?o-a+n:n:t.scrollTop}function t(e,l){return(null==l?void 0:l[e?"offsetWidth":"offsetHeight"])||0}function n(e,l){return(null==l?void 0:l[e?"offsetLeft":"offsetTop"])||0}import{b as a}from"./index-D7kFa585.js";import{j as o,p as s,ao as u,a1 as i,s as r,v,t as c,bu as d,ap as f,Y as p,B as h,d as m,M as g,D as y,C as b,H as x,bj as w,L as A,a4 as k,br as E}from"./index-C3ajj0iU.js";import{u as S,e as _}from"./VBtn-JKfmtoJ-.js";import{V as z}from"./VIcon-DO7afe9J.js";const C=Symbol.for("vuetify:v-slide-group"),H=s({centerActive:Boolean,scrollToActive:{type:Boolean,default:!0},contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:C},nextIcon:{type:k,default:"$next"},prevIcon:{type:k,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>"boolean"==typeof e||["always","desktop","mobile","never"].includes(e)},...A(),...w({mobile:null}),...x(),..._({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),I=o()({name:"VSlideGroup",props:H(),emits:{"update:modelValue":e=>!0},setup(o,s){function x(e,a){let o=0;o=a?function(e){let{selectedElement:l,containerElement:a,isHorizontal:o}=e;const s=t(o,a);return n(o,l)-s/2+t(o,l)/2}({containerElement:P.el,isHorizontal:O.value,selectedElement:e}):function(e){let{selectedElement:a,containerElement:o,isRtl:s,isHorizontal:u}=e;const i=t(u,o),r=l(u,s,o),v=t(u,a),c=n(u,a),d=.4*v;return r>c?c-d:c+v>r+i?c-i+v+d:r}({containerElement:P.el,isHorizontal:O.value,isRtl:V.value,selectedElement:e}),w(o)}function w(n){if(!f||!P.el)return;const a=t(O.value,P.el),o=l(O.value,V.value,P.el);if(e(O.value,P.el)>a&&Math.abs(n-o)>=16){if(O.value&&V.value&&P.el){const{scrollWidth:e,offsetWidth:l}=P.el;n=e-l-n}O.value?Q.horizontal(n,U.value):Q(n,U.value)}}function A(e){const{scrollTop:l,scrollLeft:t}=e.target;q.value=O.value?t:l}function k(e){if(X.value=!0,L.value&&K.el)for(const l of e.composedPath())for(const e of K.el.children)if(e===l)return void x(e)}function _(e){X.value=!1}function C(e){var l;Z||X.value||e.relatedTarget&&(null==(l=K.el)?void 0:l.contains(e.relatedTarget))||R(),Z=!1}function H(){Z=!0}function I(e){function l(l){e.preventDefault(),R(l)}K.el&&(O.value?"ArrowRight"===e.key?l(V.value?"prev":"next"):"ArrowLeft"===e.key&&l(V.value?"next":"prev"):"ArrowDown"===e.key?l("next"):"ArrowUp"===e.key&&l("prev"),"Home"===e.key?l("first"):"End"===e.key&&l("last"))}function W(e,l){if(!e)return;let t=e;do{t=null==t?void 0:t["next"===l?"nextElementSibling":"previousElementSibling"]}while(null==t?void 0:t.hasAttribute("disabled"));return t}function R(e){if(!K.el)return;let l;if(e)if("next"===e){if(l=W(K.el.querySelector(":focus"),e),!l)return R("first")}else if("prev"===e){if(l=W(K.el.querySelector(":focus"),e),!l)return R("last")}else"first"===e?(l=K.el.firstElementChild,(null==l?void 0:l.hasAttribute("disabled"))&&(l=W(l,"next"))):"last"===e&&(l=K.el.lastElementChild,(null==l?void 0:l.hasAttribute("disabled"))&&(l=W(l,"prev")));else l=E(K.el)[0];l&&l.focus({preventScroll:!0})}function T(e){const l=O.value&&V.value?-1:1;let t=q.value+("prev"===e?-l:l)*D.value;if(O.value&&V.value&&P.el){const{scrollWidth:e,offsetWidth:l}=P.el;t+=e-l}w(t)}let{slots:M}=s;const{isRtl:V}=u(),{displayClasses:j,mobile:B}=i(o),F=S(o,o.symbol),L=r(!1),q=r(0),D=r(0),G=r(0),O=v(()=>"horizontal"===o.direction),{resizeRef:P,contentRect:$}=c(),{resizeRef:K,contentRect:N}=c(),Q=d(),U=v(()=>({container:P.el,duration:200,easing:"easeOutQuart"})),Y=v(()=>F.selected.value.length?F.items.value.findIndex(e=>e.id===F.selected.value[0]):-1),J=v(()=>F.selected.value.length?F.items.value.findIndex(e=>e.id===F.selected.value[F.selected.value.length-1]):-1);if(f){let e=-1;p(()=>[F.selected.value,$.value,N.value,O.value],()=>{cancelAnimationFrame(e),e=requestAnimationFrame(()=>{if($.value&&N.value){const e=O.value?"width":"height";D.value=$.value[e],G.value=N.value[e],L.value=G.value>D.value+1}o.scrollToActive&&Y.value>=0&&K.el&&x(K.el.children[J.value],o.centerActive)})})}const X=r(!1);let Z=!1;const ee=v(()=>({next:F.next,prev:F.prev,select:F.select,isSelected:F.isSelected})),le=v(()=>L.value||Math.abs(q.value)>0),te=v(()=>{switch(o.showArrows){case"never":return!1;case"always":return!0;case"desktop":return!B.value;case!0:return le.value;case"mobile":return B.value||le.value;default:return!B.value&&le.value}}),ne=v(()=>Math.abs(q.value)>1),ae=v(()=>{if(!P.value||!le.value)return!1;const l=e(O.value,P.el),t=function(e,l){return(null==l?void 0:l[e?"clientWidth":"clientHeight"])||0}(O.value,P.el);return l-t-Math.abs(q.value)>1});return h(()=>m(o.tag,{class:y(["v-slide-group",{"v-slide-group--vertical":!O.value,"v-slide-group--has-affixes":te.value,"v-slide-group--is-overflowing":L.value},j.value,o.class]),style:b(o.style),tabindex:X.value||F.selected.value.length?-1:0,onFocus:C},{default:()=>{var e,l,t;return[te.value&&g("div",{key:"prev",class:y(["v-slide-group__prev",{"v-slide-group__prev--disabled":!ne.value}]),onMousedown:H,onClick:()=>ne.value&&T("prev")},[(null==(e=M.prev)?void 0:e.call(M,ee.value))??m(a,null,{default:()=>[m(z,{icon:V.value?o.nextIcon:o.prevIcon},null)]})]),g("div",{key:"container",ref:P,class:y(["v-slide-group__container",o.contentClass]),onScroll:A},[g("div",{ref:K,class:"v-slide-group__content",onFocusin:k,onFocusout:_,onKeydown:I},[null==(l=M.default)?void 0:l.call(M,ee.value)])]),te.value&&g("div",{key:"next",class:y(["v-slide-group__next",{"v-slide-group__next--disabled":!ae.value}]),onMousedown:H,onClick:()=>ae.value&&T("next")},[(null==(t=M.next)?void 0:t.call(M,ee.value))??m(a,null,{default:()=>[m(z,{icon:V.value?o.prevIcon:o.nextIcon},null)]})])]}})),{selected:F.selected,scrollTo:T,scrollOffset:q,focus:R,hasPrev:ne,hasNext:ae}}});export{I as V,C as a,H as m};
