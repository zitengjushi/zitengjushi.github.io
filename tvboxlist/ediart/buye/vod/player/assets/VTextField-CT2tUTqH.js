import{u as e,b as l,V as t,d as a,e as u,f as o,g as s,m as n,h as r}from"./autofocus-CGxummZr.js";import{j as i,p as c,ah as d,v as f,k as v,B as p,aH as m,d as x,M as b,F as g,m as h,ak as y,ab as V,bz as _,D as S,aj as k,ar as j,aO as B}from"./index-C3ajj0iU.js";import{I as C}from"./loader-_1sodkhb.js";const F=["color","file","time","date","datetime-local","week","month"],w=c({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...r(),...n(),...s()},"VTextField"),D=i()({name:"VTextField",directives:{vIntersect:C},inheritAttrs:!1,props:w(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(s,n){function r(){G.isSuppressing.value&&G.update(),z.value||A(),j(()=>{var e;q.value!==document.activeElement&&(null==(e=q.value)||e.focus())})}function i(e){I("mousedown:control",e),e.target!==q.value&&(r(),e.preventDefault())}function c(e){I("click:control",e)}function w(e){var l;const t=e.target;if(!(null==(l=s.modelModifiers)?void 0:l.trim)||!["text","search","password","tel","url"].includes(s.type))return void(M.value=t.value);const a=t.value,u=t.selectionStart,o=t.selectionEnd;M.value=a,j(()=>{let e=0;a.trimStart().length===t.value.length&&(e=a.length-t.value.length),null!=u&&(t.selectionStart=u-e),null!=o&&(t.selectionEnd=o-e)})}let{attrs:D,emit:I,slots:P}=n;const M=d(s,"modelValue"),{isFocused:z,focus:A,blur:E}=e(s),{onIntersect:N}=o(s),O=f(()=>"function"==typeof s.counterValue?s.counterValue(M.value):"number"==typeof s.counterValue?s.counterValue:(""+(M.value??"")).length),R=f(()=>D.maxlength?D.maxlength:!s.counter||"number"!=typeof s.counter&&"string"!=typeof s.counter?void 0:s.counter),T=f(()=>["plain","underlined"].includes(s.variant)),H=v(),U=v(),q=v(),G=l(s),J=f(()=>F.includes(s.type)||s.persistentPlaceholder||z.value||s.active);return p(()=>{const e=!!(P.counter||!1!==s.counter&&null!=s.counter),l=!(!e&&!P.details),[o,n]=m(D),{modelValue:d,...f}=t.filterProps(s),v=a.filterProps(s);return x(t,h({ref:H,modelValue:M.value,"onUpdate:modelValue":e=>M.value=e,class:["v-text-field",{"v-text-field--prefixed":s.prefix,"v-text-field--suffixed":s.suffix,"v-input--plain-underlined":T.value},s.class],style:s.style},o,f,{centerAffix:!T.value,focused:z.value}),{...P,default:e=>{let{id:l,isDisabled:t,isDirty:u,isReadonly:o,isValid:d,hasDetails:f,reset:p}=e;return x(a,h({ref:U,onMousedown:i,onClick:c,"onClick:clear":e=>function(e,l){e.stopPropagation(),r(),j(()=>{l(),B(s["onClick:clear"],e)})}(e,p),role:s.role},y(v,["onClick:clear"]),{id:l.value,labelId:l.value+"-label",active:J.value||u.value,dirty:u.value||s.dirty,disabled:t.value,focused:z.value,details:f.value,error:!1===d.value}),{...P,default:e=>{let{props:{class:a,...u},controlRef:r}=e;const i=b("input",h({ref:e=>q.value=r.value=e,value:M.value,onInput:w,autofocus:s.autofocus,readonly:o.value,disabled:t.value,name:G.fieldName.value,autocomplete:G.fieldAutocomplete.value,placeholder:s.placeholder,size:1,role:s.role,type:s.type,onFocus:A,onBlur:E,"aria-labelledby":l.value+"-label"},u,n),null);return b(g,null,[s.prefix&&b("span",{class:"v-text-field__prefix"},[b("span",{class:"v-text-field__prefix__text"},[s.prefix])]),V(P.default?b("div",{class:S(a),"data-no-activator":""},[P.default({id:l}),i]):_(i,{class:a}),[[C,N,null,{once:!0}]]),s.suffix&&b("span",{class:"v-text-field__suffix"},[b("span",{class:"v-text-field__suffix__text"},[s.suffix])])])}})},details:l?l=>{var t;return b(g,null,[null==(t=P.details)?void 0:t.call(P,l),e&&b(g,null,[b("span",null,null),x(u,{active:s.persistentCounter||z.value,value:O.value,max:R.value,disabled:s.disabled},P.counter)])])}:void 0})}),k({},H,U,q)}});export{D as V,w as m};
