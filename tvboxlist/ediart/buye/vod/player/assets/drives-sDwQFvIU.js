import{u as e,Z as a,t as l,C as t,o,b as r,g as d,L as n,d as s,w as c,f as u,ad as i,ax as m,F as p,P as y,e as v,h as V,c as f}from"./index-CAPtrJAk.js";import{b as k,V as _,a as b}from"./VBtn-azOSVwQy.js";import{V as h,a as x}from"./VRow-CRaC-OYv.js";import{V as w}from"./VTextField-D66FAfNS.js";import{V as C,a as j,b as g}from"./VCard-DU3kOVDK.js";import{V as U}from"./VContainer-C_zyFmvq.js";import{V as O}from"./VDivider-BTbadIuc.js";import{V as q}from"./VDialog-Bud9f5oU.js";import{V as P}from"./loader-DsiMNKdA.js";import"./elevation-Dr-zzJaf.js";import"./VIcon-BNrbGrm9.js";/* empty css              */import"./VInput-Bq4Ibef0.js";import"./index-CjuU1OvA.js";import"./VAvatar-ME9kvVmU.js";const T={class:"py-4 position-relative"},K={class:"text-center py-2"},$={class:"text-center py-2"},D={class:"text-center py-2"},z={class:"text-center py-2"},F={class:"text-center py-2"},I={class:"text-center py-2"},A={class:"text-center py-2"},B={class:"text-center py-2"},G={class:"text-center py-2"},L={class:"text-center py-2"},R={class:"text-center py-2"},S={class:"text-center py-2"},Z={class:"py-4 text-center"},E={__name:"SettingDrive",setup(P){const E=e(),H=a("axios"),J=l({show:!1}),M=async(e,a)=>{Q.value=!0,Object.assign(J.value,{d:e,t:a,show:!0});try{const l=await H.get(`/drive/${e}/${a}/loginqrcode`);Object.assign(J.value,l)}finally{Q.value=!1}},N=async()=>{const{d:e,t:a,query_token:l}=J.value;Q.value=!0;try{const t=await H.post(`/drive/${e}/${a}/scancheck`,{checkToken:l}),o=W.value.find((e=>e.key===t.key));o?Object.assign(o,t):W.value.push(t),J.value.show=!1}finally{Q.value=!1}},Q=l(!1),W=l([]),X=t((()=>W.value.find((e=>"quark"===e.key)))),Y=t((()=>W.value.find((e=>"quarktv"===e.key))||{})),ee=t((()=>W.value.find((e=>"uc"===e.key)))),ae=t((()=>W.value.find((e=>"uctv"===e.key))||{})),le=t((()=>W.value.find((e=>"ali"===e.key)))),te=t((()=>W.value.find((e=>"a139"===e.key)))),oe=t((()=>{const e=W.value.find((e=>"a115"===e.key));return e&&!e.account&&Object.assign(e,{account:{}}),e})),re=t((()=>{const e=W.value.find((e=>"pikpak"===e.key));return e&&!e.account&&Object.assign(e,{account:{}}),e})),de=t((()=>{const e=W.value.find((e=>"xunlei"===e.key));return e&&!e.account&&Object.assign(e,{account:{}}),e})),ne=t((()=>{const e=W.value.find((e=>"a189"===e.key));return e&&!e.account&&Object.assign(e,{account:{}}),e})),se=t((()=>{const e=W.value.find((e=>"a123"===e.key));return e&&!e.account&&Object.assign(e,{account:{}}),e})),ce=t((()=>W.value.find((e=>"baidu"===e.key)))),ue=async e=>{Q.value=!0;try{const a=await H.post("/drive",e),l=W.value.find((e=>e.key===a.key));l?Object.assign(l,a):W.value.push(a)}finally{Q.value=!1}E.success("更新成功！")},ie=async()=>{Q.value=!0;try{W.value=await H.get("/drive")}catch{}finally{Q.value=!1}};return o(ie),(e,a)=>(r(),d("div",T,[a[50]||(a[50]=n("h1",{class:"text-h6 font-weight-bold text-center py-2"},"网盘账号",-1)),a[51]||(a[51]=n("div",{class:"text-center py-2"}," 如不显示网盘配置项，请先在配置文件网盘排序中添加支持的网盘 ",-1)),s(m,{modelValue:u(Q),"onUpdate:modelValue":a[0]||(a[0]=e=>i(Q)?Q.value=e:null),class:"align-center justify-center",persistent:!0,contained:""},{default:c((()=>[s(k,{color:"primary",size:"64",indeterminate:""})])),_:1},8,["modelValue"]),s(x,{dense:""},{default:c((()=>[u(ee)?(r(),d(p,{key:0},[s(h,{cols:"12",md:"6"},{default:c((()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"UC-CK",modelValue:u(ee).account,"onUpdate:modelValue":a[1]||(a[1]=e=>u(ee).account=e),error:u(ee).error??!0},null,8,["modelValue","error"]),n("div",K,[s(_,{onClick:a[2]||(a[2]=y((e=>ue(u(ee))),["stop"]))},{default:c((()=>a[32]||(a[32]=[v("更新")]))),_:1})])])),_:1}),s(h,{cols:"12",md:"6"},{default:c((()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"UC-TV",modelValue:u(ae).account,"onUpdate:modelValue":a[3]||(a[3]=e=>u(ae).account=e),error:u(ae).error??!0},null,8,["modelValue","error"]),n("div",$,[s(_,{onClick:a[4]||(a[4]=y((e=>M("uc","tv")),["stop"])),color:"primary"},{default:c((()=>a[33]||(a[33]=[v("扫码")]))),_:1})])])),_:1})],64)):V("",!0),u(X)?(r(),d(p,{key:1},[s(h,{cols:"12",md:"6"},{default:c((()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"夸克-CK",modelValue:u(X).account,"onUpdate:modelValue":a[5]||(a[5]=e=>u(X).account=e),error:u(X).error??!0},null,8,["modelValue","error"]),n("div",D,[s(_,{onClick:a[6]||(a[6]=y((e=>ue(u(X))),["stop"]))},{default:c((()=>a[34]||(a[34]=[v("更新")]))),_:1})])])),_:1}),s(h,{cols:"12",md:"6"},{default:c((()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"夸克-TV",modelValue:u(Y).account,"onUpdate:modelValue":a[7]||(a[7]=e=>u(Y).account=e),error:u(Y).error??!0},null,8,["modelValue","error"]),n("div",z,[s(_,{onClick:a[8]||(a[8]=y((e=>M("quark","tv")),["stop"])),color:"primary"},{default:c((()=>a[35]||(a[35]=[v(" 扫码 ")]))),_:1})])])),_:1})],64)):V("",!0),u(se)?(r(),f(h,{key:2,cols:"12",md:"6"},{default:c((()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"123-账号",modelValue:u(se).account.username,"onUpdate:modelValue":a[9]||(a[9]=e=>u(se).account.username=e),error:u(se).error??!0},null,8,["modelValue","error"]),a[37]||(a[37]=n("div",{class:"py-2"},null,-1)),s(w,{variant:"outlined",density:"compact","hide-details":"",label:"123-密码",type:"password",modelValue:u(se).account.password,"onUpdate:modelValue":a[10]||(a[10]=e=>u(se).account.password=e),error:u(se).error??!0},null,8,["modelValue","error"]),n("div",F,[s(_,{onClick:a[11]||(a[11]=y((e=>ue(u(se))),["stop"]))},{default:c((()=>a[36]||(a[36]=[v("更新")]))),_:1})])])),_:1})):V("",!0),u(oe)?(r(),f(h,{key:3,cols:"12",md:"6"},{default:c((()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"115-Ck",modelValue:u(oe).account.cookie,"onUpdate:modelValue":a[12]||(a[12]=e=>u(oe).account.cookie=e),error:u(oe).error??!0},null,8,["modelValue","error"]),a[39]||(a[39]=n("div",{class:"py-2"},null,-1)),s(w,{variant:"outlined",density:"compact","hide-details":"",label:"115-安全码",modelValue:u(oe).account.securityCode,"onUpdate:modelValue":a[13]||(a[13]=e=>u(oe).account.securityCode=e),error:u(oe).error??!0},null,8,["modelValue","error"]),n("div",I,[s(_,{onClick:a[14]||(a[14]=y((e=>ue(u(oe))),["stop"]))},{default:c((()=>a[38]||(a[38]=[v("更新")]))),_:1})])])),_:1})):V("",!0),u(le)?(r(),f(h,{key:4,cols:"12",md:"6"},{default:c((()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"阿里-32Token",modelValue:u(le).account,"onUpdate:modelValue":a[15]||(a[15]=e=>u(le).account=e),error:u(le).error??!0},null,8,["modelValue","error"]),n("div",A,[s(_,{onClick:a[16]||(a[16]=y((e=>ue(u(le))),["stop"]))},{default:c((()=>a[40]||(a[40]=[v("更新")]))),_:1})])])),_:1})):V("",!0),u(re)?(r(),f(h,{key:5,cols:"12",md:"6"},{default:c((()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"PikPak-账号",modelValue:u(re).account.username,"onUpdate:modelValue":a[17]||(a[17]=e=>u(re).account.username=e),error:u(re).error??!0},null,8,["modelValue","error"]),a[42]||(a[42]=n("div",{class:"py-2"},null,-1)),s(w,{variant:"outlined",density:"compact","hide-details":"",label:"PikPak-密码",type:"password",modelValue:u(re).account.password,"onUpdate:modelValue":a[18]||(a[18]=e=>u(re).account.password=e),error:u(re).error??!0},null,8,["modelValue","error"]),n("div",B,[s(_,{onClick:a[19]||(a[19]=y((e=>ue(u(re))),["stop"]))},{default:c((()=>a[41]||(a[41]=[v("更新")]))),_:1})])])),_:1})):V("",!0),u(de)?(r(),f(h,{key:6,cols:"12",md:"6"},{default:c((()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"迅雷-账号",modelValue:u(de).account.username,"onUpdate:modelValue":a[20]||(a[20]=e=>u(de).account.username=e),error:u(de).error??!0},null,8,["modelValue","error"]),a[44]||(a[44]=n("div",{class:"py-2"},null,-1)),s(w,{variant:"outlined",density:"compact","hide-details":"",label:"迅雷-密码",type:"password",modelValue:u(de).account.password,"onUpdate:modelValue":a[21]||(a[21]=e=>u(de).account.password=e),error:u(de).error??!0},null,8,["modelValue","error"]),n("div",G,[s(_,{onClick:a[22]||(a[22]=y((e=>ue(u(de))),["stop"]))},{default:c((()=>a[43]||(a[43]=[v("更新")]))),_:1})])])),_:1})):V("",!0),u(ne)?(r(),f(h,{key:7,cols:"12",md:"6"},{default:c((()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"天意-账号",modelValue:u(ne).account.username,"onUpdate:modelValue":a[23]||(a[23]=e=>u(ne).account.username=e),error:u(ne).error??!0},null,8,["modelValue","error"]),a[46]||(a[46]=n("div",{class:"py-2"},null,-1)),s(w,{variant:"outlined",density:"compact","hide-details":"",label:"天意-密码",type:"password",modelValue:u(ne).account.password,"onUpdate:modelValue":a[24]||(a[24]=e=>u(ne).account.password=e),error:u(ne).error??!0},null,8,["modelValue","error"]),n("div",L,[s(_,{onClick:a[25]||(a[25]=y((e=>ue(u(ne))),["stop"]))},{default:c((()=>a[45]||(a[45]=[v("更新")]))),_:1})])])),_:1})):V("",!0),u(te)?(r(),f(h,{key:8,cols:"12",md:"6"},{default:c((()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"异动-CK",modelValue:u(te).account,"onUpdate:modelValue":a[26]||(a[26]=e=>u(te).account=e),error:u(te).error??!0},null,8,["modelValue","error"]),n("div",R,[s(_,{onClick:a[27]||(a[27]=y((e=>ue(u(te))),["stop"]))},{default:c((()=>a[47]||(a[47]=[v("更新")]))),_:1})])])),_:1})):V("",!0),u(ce)?(r(),f(h,{key:9,cols:"12",md:"6"},{default:c((()=>[s(w,{variant:"outlined",density:"compact","hide-details":"",label:"百度-CK",modelValue:u(ce).account,"onUpdate:modelValue":a[28]||(a[28]=e=>u(ce).account=e),error:u(ce).error??!0},null,8,["modelValue","error"]),n("div",S,[s(_,{onClick:a[29]||(a[29]=y((e=>ue(u(ce))),["stop"]))},{default:c((()=>a[48]||(a[48]=[v("更新")]))),_:1})])])),_:1})):V("",!0)])),_:1}),n("div",Z,[s(_,{color:"error",onClick:y(ie,["stop"])},{default:c((()=>a[49]||(a[49]=[v("检测所有网盘状态")]))),_:1})]),s(q,{modelValue:u(J).show,"onUpdate:modelValue":a[31]||(a[31]=e=>u(J).show=e),"max-width":"400px"},{default:c((()=>[s(C,{title:"请扫二维码登录",loading:u(Q),disabled:u(Q)},{default:c((()=>[s(j,null,{default:c((()=>[s(U,{class:"text-center"},{default:c((()=>[u(J).qr_data?(r(),f(b,{key:0,class:"mx-auto",width:"300","aspect-ratio":1,cover:"",src:"data:image/png;base64,"+u(J).qr_data},null,8,["src"])):V("",!0)])),_:1})])),_:1}),s(O),s(g,null,{default:c((()=>[s(_,{text:"关闭",variant:"plain",onClick:a[30]||(a[30]=e=>u(J).show=!1)}),s(_,{color:"primary",text:"已完成扫码",variant:"tonal",onClick:N})])),_:1})])),_:1},8,["loading","disabled"])])),_:1},8,["modelValue"])]))}},H={__name:"drives",setup:e=>(e,a)=>{const l=E;return r(),f(P,null,{default:c((()=>[s(l)])),_:1})}};export{H as default};
