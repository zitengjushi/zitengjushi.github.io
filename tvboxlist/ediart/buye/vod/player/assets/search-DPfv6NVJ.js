import{a,b as e,V as t}from"./VBtn-azOSVwQy.js";import{p as l,_ as o,j as s,a3 as r,l as n,n as i,q as d,a4 as u,s as c,x as m,y as p,z as v,a5 as f,a6 as g,a7 as b,a8 as V,H as y,a9 as _,d as h,aa as j,ab as x,ac as k,m as C,b as S,c as B,w,L as N,h as q,e as A,M as T,u as G,t as O,O as U,o as X,a as Y,Z as z,f as D,ad as F,g as H,J as I,F as J}from"./index-CAPtrJAk.js";import{V as L}from"./VIcon-BNrbGrm9.js";import{c as M,V as P}from"./VCard-DU3kOVDK.js";import{V as R}from"./loader-DsiMNKdA.js";import{V as Z}from"./VAppBarTitle-DSnV6HXR.js";import{a as $,c as E,V as K,b as Q}from"./VTabs-B6mjKTul.js";import{V as W}from"./VAppBar-Di7nvgo_.js";import{a as aa,V as ea}from"./VRow-CRaC-OYv.js";import"./elevation-Dr-zzJaf.js";import"./VAvatar-ME9kvVmU.js";import"./VToolbar-oLIRM5qc.js";import"./index-CjuU1OvA.js";import"./VSlideGroup-B_Fbistk.js";/* empty css              */const ta=l({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:o,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...s(),...r({location:"top end"}),...n(),...i(),...d(),...u({transition:"scale-rotate-transition"})},"VBadge"),la=c()({name:"VBadge",inheritAttrs:!1,props:ta(),setup(a,e){const{backgroundColorClasses:t,backgroundColorStyles:l}=m(p(a,"color")),{roundedClasses:o}=v(a),{t:s}=f(),{textColorClasses:r,textColorStyles:n}=g(p(a,"textColor")),{themeClasses:i}=b(),{locationStyles:d}=V(a,!0,(e=>(a.floating?a.dot?2:4:a.dot?8:12)+(["top","bottom"].includes(e)?+(a.offsetY??0):["left","right"].includes(e)?+(a.offsetX??0):0)));return y((()=>{const u=+a.content,c=!a.max||isNaN(u)?a.content:u>+a.max?a.max+"+":u,[m,p]=_(e.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return h(a.tag,C({class:["v-badge",{"v-badge--bordered":a.bordered,"v-badge--dot":a.dot,"v-badge--floating":a.floating,"v-badge--inline":a.inline},a.class]},p,{style:a.style}),{default:()=>{var p,v;return[h("div",{class:"v-badge__wrapper"},[null==(v=(p=e.slots).default)?void 0:v.call(p),h(j,{transition:a.transition},{default:()=>{var p,v;return[x(h("span",C({class:["v-badge__badge",i.value,t.value,o.value,r.value],style:[l.value,n.value,a.inline?{}:d.value],"aria-atomic":"true","aria-label":s(a.label,u),"aria-live":"polite",role:"status"},m),[a.dot?void 0:e.slots.badge?null==(v=(p=e.slots).badge)?void 0:v.call(p):a.icon?h(L,{icon:a.icon},null):c]),[[k,a.modelValue]])]}})])]}})})),{}}}),oa={class:"d-flex align-center justify-center fill-height"},sa={__name:"Vod",props:{site:{type:String,required:!0},vod:{type:Object,required:!0}},setup:t=>(l,o)=>(S(),B(P,{hover:"",to:{name:"detail",params:{site:t.site,id:t.vod.vod_id}}},{default:w((()=>[h(a,{"aspect-ratio":5/7,cover:"",class:"align-end text-white",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",src:t.vod.vod_pic},{placeholder:w((()=>[N("div",oa,[h(e,{color:"grey-lighten-4",indeterminate:""})])])),default:w((()=>[t.vod.vod_remarks?(S(),B(la,{key:0,color:"error",inline:"",content:t.vod.vod_remarks},null,8,["content"])):q("",!0),h(M,{class:"translucent-darken-1 text-body-2 pa-1"},{default:w((()=>[A(T(t.vod.vod_name),1)])),_:1})])),_:1},8,["src"])])),_:1},8,["to"]))},ra={__name:"search",props:{wd:{type:String,required:!0}},setup(a){const e=G(),l=Y(),o=a,s=z("axios"),r=O(!1),n=O(void 0),i=U({});return X((async()=>{r.value=!0;const a=[];for(const l of e.sites){if(4!==l.type||!l.searchable)continue;const e=s.get(l.api,{params:{wd:o.wd}}).then((a=>{a.list&&a.list.length>=1&&(i[l.key]={name:l.name,data:a.list},n.value||(n.value=l.key))})).catch((a=>{}));a.push(e)}try{await Promise.all(a)}catch(t){}finally{r.value=!1}})),(a,e)=>{const o=sa;return S(),B(R,{class:"fill-height mx-auto"},{default:w((()=>[h(W,null,{prepend:w((()=>[h(t,{icon:"mdi-arrow-left",onClick:D(l).back},null,8,["onClick"])])),default:w((()=>[h(Z,null,{default:w((()=>[h($,{modelValue:D(n),"onUpdate:modelValue":e[0]||(e[0]=a=>F(n)?n.value=a:null),"center-active":"","align-tabs":"start"},{default:w((()=>[(S(!0),H(J,null,I(D(i),((a,e)=>(S(),B(K,{key:e,value:e},{default:w((()=>[A(T(a.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),h(E,{modelValue:D(n),"onUpdate:modelValue":e[1]||(e[1]=a=>F(n)?n.value=a:null)},{default:w((()=>[(S(!0),H(J,null,I(D(i),((a,e)=>(S(),B(Q,{key:e,value:e},{default:w((()=>[h(aa,{dense:""},{default:w((()=>[(S(!0),H(J,null,I(a.data,((a,t)=>(S(),B(ea,{key:t,cols:"4",md:"2"},{default:w((()=>[h(o,{site:e,vod:a},null,8,["site","vod"])])),_:2},1024)))),128))])),_:2},1024)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}}};export{ra as default};
