import{a,b as e,V as t}from"./VBtn-JKfmtoJ-.js";import{j as l,p as o,n as s,q as r,a5 as n,a6 as i,a7 as d,a8 as u,a0 as c,B as m,a9 as p,d as v,M as f,aa as g,ab as b,ac as V,m as y,a3 as _,ad as h,G as j,H as x,I as k,ae as C,L as S,a4 as B,c as w,b as N,w as q,e as A,g as G,O as T,u as I,a as O,_ as U,k as X,Q as Y,o as D,af as F,h as H,f as L,F as M,N as P}from"./index-C3ajj0iU.js";import{V as Q}from"./VIcon-DO7afe9J.js";import{c as R,V as $}from"./VCard-DTBu3HW2.js";import{V as z}from"./VAppBar-3TgViUDg.js";import{V as E}from"./VAppBarTitle-CkovraDD.js";import{a as J,V as K,c as W,b as Z}from"./VTabs-B2GA2R3L.js";import{a as aa,V as ea}from"./VRow-Dy0oHVvz.js";import{V as ta}from"./loader-_1sodkhb.js";import"./elevation-C2i0gTrO.js";import"./VAvatar-CsOZoIOv.js";import"./VToolbar-DIHQZaEw.js";import"./index-D7kFa585.js";import"./VSlideGroup-BFt0nLex.js";/* empty css              */const la=o({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:B,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...S(),...C({location:"top end"}),...k(),...x(),...j(),...h({transition:"scale-rotate-transition"}),..._()},"VBadge"),oa=l()({name:"VBadge",inheritAttrs:!1,props:la(),setup(a,e){const{backgroundColorClasses:t,backgroundColorStyles:l}=s(()=>a.color),{roundedClasses:o}=r(a),{t:_}=n(),{textColorClasses:h,textColorStyles:j}=i(()=>a.textColor),{themeClasses:x}=d(),{locationStyles:k}=u(a,!0,e=>(a.floating?a.dot?2:4:a.dot?8:12)+(["top","bottom"].includes(e)?+(a.offsetY??0):["left","right"].includes(e)?+(a.offsetX??0):0)),{dimensionStyles:C}=c(a);return m(()=>{const s=+a.content,r=!a.max||isNaN(s)?a.content:s>+a.max?a.max+"+":s,[n,i]=p(e.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return v(a.tag,y({class:["v-badge",{"v-badge--bordered":a.bordered,"v-badge--dot":a.dot,"v-badge--floating":a.floating,"v-badge--inline":a.inline},a.class]},i,{style:a.style}),{default:()=>{var i,d;return[f("div",{class:"v-badge__wrapper"},[null==(d=(i=e.slots).default)?void 0:d.call(i),v(g,{transition:a.transition},{default:()=>{var i,d;return[b(f("span",y({class:["v-badge__badge",x.value,t.value,o.value,h.value],style:[l.value,j.value,C.value,a.inline?{}:k.value],"aria-atomic":"true","aria-label":_(a.label,s),"aria-live":"polite",role:"status"},n),[a.dot?void 0:e.slots.badge?null==(d=(i=e.slots).badge)?void 0:d.call(i):a.icon?v(Q,{icon:a.icon},null):r]),[[V,a.modelValue]])]}})])]}})}),{}}}),sa={class:"d-flex align-center justify-center fill-height"},ra={__name:"Vod",props:{site:{type:String,required:!0},vod:{type:Object,required:!0}},setup:t=>(l,o)=>(N(),w($,{hover:"",to:{name:"detail",params:{site:t.site,id:t.vod.vod_id}}},{default:q(()=>[v(a,{"aspect-ratio":5/7,cover:"",class:"align-end text-white",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",src:t.vod.vod_pic},{placeholder:q(()=>[f("div",sa,[v(e,{color:"grey-lighten-4",indeterminate:""})])]),default:q(()=>[t.vod.vod_remarks?(N(),w(oa,{key:0,color:"error",inline:"",content:t.vod.vod_remarks},null,8,["content"])):A("",!0),v(R,{class:"translucent-darken-1 text-body-2 pa-1"},{default:q(()=>[G(T(t.vod.vod_name),1)]),_:1})]),_:1},8,["src"])]),_:1},8,["to"]))},na={__name:"search",props:{wd:{type:String,required:!0}},setup(a){const e=I(),l=O(),o=a,s=U("axios"),r=X(!1),n=X(void 0),i=Y({});return D(async()=>{r.value=!0;const a=[];for(const l of e.sites){if(4!==l.type||!l.searchable)continue;const e=s.get(l.api,{params:{wd:o.wd}}).then(a=>{a.list&&a.list.length>=1&&(i[l.key]={name:l.name,data:a.list},n.value||(n.value=l.key))}).catch(a=>{});a.push(e)}try{await Promise.all(a)}catch(t){}finally{r.value=!1}}),(a,e)=>{const o=ra;return N(),w(ta,{class:"fill-height mx-auto"},{default:q(()=>[v(z,null,{prepend:q(()=>[v(t,{icon:"mdi-arrow-left",onClick:H(l).back},null,8,["onClick"])]),default:q(()=>[v(E,null,{default:q(()=>[v(J,{modelValue:H(n),"onUpdate:modelValue":e[0]||(e[0]=a=>F(n)?n.value=a:null),"center-active":"","align-tabs":"start"},{default:q(()=>[(N(!0),L(M,null,P(H(i),(a,e)=>(N(),w(K,{key:e,value:e},{default:q(()=>[G(T(a.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),v(W,{modelValue:H(n),"onUpdate:modelValue":e[1]||(e[1]=a=>F(n)?n.value=a:null)},{default:q(()=>[(N(!0),L(M,null,P(H(i),(a,e)=>(N(),w(Z,{key:e,value:e},{default:q(()=>[v(aa,{dense:""},{default:q(()=>[(N(!0),L(M,null,P(a.data,(a,t)=>(N(),w(ea,{key:t,cols:"4",md:"2"},{default:q(()=>[v(o,{site:e,vod:a},null,8,["site","vod"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})}}};export{na as default};
