import{u as a,O as t,o as s,c as e,a as o,b as l,w as i,d as r,m as n,e as d,L as m,P as u,f as p,h as c,M as f}from"./index-CAPtrJAk.js";import{V as w,a as h,b as V,c as _}from"./VMenu-CQCXZCaZ.js";import{V as j}from"./VBtn-azOSVwQy.js";import{V as v}from"./VAppBar-Di7nvgo_.js";import{V as x}from"./VForm-BOjzfGZY.js";import{V as g}from"./VTextField-D66FAfNS.js";import{V as y}from"./loader-DsiMNKdA.js";import{V as b,a as k,b as C}from"./VCard-DU3kOVDK.js";import{V as q}from"./VSpacer-DYgZJpmR.js";import{V as T}from"./VDialog-Bud9f5oU.js";import"./index-CjuU1OvA.js";import"./VAvatar-ME9kvVmU.js";import"./elevation-Dr-zzJaf.js";import"./VIcon-BNrbGrm9.js";import"./VDivider-BTbadIuc.js";import"./VToolbar-oLIRM5qc.js";import"./VInput-Bq4Ibef0.js";/* empty css              */const A={class:"pt-4 pb-2"},S={__name:"index",setup(S){const B=a(),D=o(),F=t({wd:"",push:!1}),I={wd:[a=>!!a||"关键词不能为空"]},L=async a=>{if(!(await a).valid)return!1;/https?:\/\//i.test(F.wd)?F.push=!0:await D.push({name:"search",query:{wd:F.wd}})},M=async()=>{F.push=!1,await D.push({name:"detail",params:{site:"push_agent",id:F.wd}})},U=async()=>(await B.logout(),D.replace({name:"login"})),z=()=>{const a=location.origin;window.document.location.href=`https://v.qq.com/search_redirect.html?url=https://www.1905.com/api/redirec.html?redirect_url=${a}?www.1905.com`};return s((()=>{/www\.1905\.com/i.test(location.href)&&setTimeout((()=>{window.document.location.href=location.origin}),1e3)})),(a,t)=>(l(),e(y,{class:"align-start fill-height mx-auto","max-width":"900"},{default:i((()=>[r(v,{elevation:"0"},{append:i((()=>[r(w,null,{activator:i((({props:a})=>[r(j,n({icon:"mdi-dots-vertical"},a),null,16)])),default:i((()=>[r(h,null,{default:i((()=>[r(V,{to:{name:"user"}},{default:i((()=>[r(_,null,{default:i((()=>t[3]||(t[3]=[d("进入后台")]))),_:1})])),_:1}),r(V,{onClick:U},{default:i((()=>[r(_,null,{default:i((()=>t[4]||(t[4]=[d("退出登录")]))),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),r(y,{class:"text-center"},{default:i((()=>[t[6]||(t[6]=m("div",{class:"py-16"},null,-1)),t[7]||(t[7]=m("h1",{class:"text-h2 font-weight-bold"},"TELSA",-1)),t[8]||(t[8]=m("div",{class:"py-4"},null,-1)),r(x,{"max-width":"400","fast-fail":"","validate-on":"submit",onSubmit:u(L,["prevent"])},{default:i((()=>[r(g,{placeholder:"搜我喜欢",modelValue:p(F).wd,"onUpdate:modelValue":t[0]||(t[0]=a=>p(F).wd=a),variant:"underlined",clearable:!0,rules:I.wd,color:"success"},null,8,["modelValue","rules"]),m("div",A,[p(B).fullscreen?c("",!0):(l(),e(j,{key:0,onClick:z,color:"pink",class:"mr-5"},{default:i((()=>t[5]||(t[5]=[d(" 进入全屏 ")]))),_:1})),r(j,{type:"submit",icon:"mdi-magnify"})])])),_:1})])),_:1}),r(T,{modelValue:p(F).push,"onUpdate:modelValue":t[2]||(t[2]=a=>p(F).push=a),"max-width":"400",persistent:"",transition:"dialog-top-transition"},{default:i((()=>[r(b,{title:"是否推送"},{default:i((()=>[r(k,null,{default:i((()=>[d(f(p(F).wd),1)])),_:1}),r(C,null,{default:i((()=>[r(q),r(j,{text:"取消",onClick:t[1]||(t[1]=a=>p(F).push=!1)}),r(j,{color:"primary",text:"确定",onClick:u(M,["stop"])})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}))}};export{S as default};
